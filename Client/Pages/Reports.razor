@page "/Reports"
@using AccReporting.Client.Reports
@using AccReporting.Shared.DTOs
@using QuestPDF.Fluent
@inject IJSRuntime Js
@inject HttpClient client
<h3>Reports</h3>
<Syncfusion.Blazor.Buttons.SfButton @onclick="@OnClick">Get Sample Sales Report</Syncfusion.Blazor.Buttons.SfButton>
@code {
    private async Task OnClick(MouseEventArgs args)
    {
        
        var x = await client.GetFromJsonAsync<SalesReportDto>("api/Reports/SalesReport?invNo=3&type=asd");
        var doc = new SalesReport(x);
        await Js.InvokeVoidAsync("saveAsFile",
                        "SalesReport.pdf",
                        Convert.ToBase64String(doc.GeneratePdf())
                        );        
    }
    
}
